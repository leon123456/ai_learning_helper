# 精细版结构化切题完整工程示例

该项目为RecognizeEduPaperStructed的完整工程示例。

该示例**无法在线调试**，如需调试可下载到本地后替换 [AK](https://usercenter.console.aliyun.com/#/manage/ak) 以及参数后进行调试。

## 运行条件

- 下载并解压需要语言的代码;


- 在阿里云帐户中获取您的 [凭证](https://usercenter.console.aliyun.com/#/manage/ak) 并通过它替换下载后代码中的 ACCESS_KEY_ID 以及 ACCESS_KEY_SECRET;

- 执行对应语言的构建及运行语句

## 执行步骤

下载的代码包，在根据自己需要更改代码中的参数和 AK 以后，可以在**解压代码所在目录下**按如下的步骤执行：

- *Python 版本要求 Python3*
```sh
python3 setup.py install && python ./alibabacloud_sample/sample.py
```
## 使用的 API

-  RecognizeEduPaperStructed：支持多学科教辅试卷的结构化识别，将整页练习册、试卷或教辅中的题目进行自动切题，并识别出其中的文字内容和坐标位置。 更多信息可参考：[文档](https://next.api.aliyun.com/document/ocr-api/2021-07-07/RecognizeEduPaperStructed)

## API 返回示例

*实际输出结构可能稍有不同，属于正常返回；下列输出值仅作为参考，以实际调用为准*


- JSON 格式 
```js
{
  "RequestId": "43A29C77-405E-4CC0-BC55-EE694AD00655",
  "Data": "{\"figure\":[{\"type\":\"subject_bracket\",\"x\":1039,\"y\":2625,\"w\":124,\"h\":42,\"box\":{\"x\":0,\"y\":0,\"w\":0,\"h\":0,\"angle\":0},\"points\":[{\"x\":1039,\"y\":2625},{\"x\":1163,\"y\":2625},{\"x\":1163,\"y\":2667},{\"x\":1039,\"y\":2667}]}],\"height\":3442,\"orgHeight\":3442,\"orgWidth\":2377,\"page_id\":7,\"page_title\":\"\",\"part_info\":[{\"part_title\":\"选择题\",\"pos_list\":[[{\"x\":245,\"y\":3260},{\"x\":2235,\"y\":3265},{\"x\":2235,\"y\":3353},{\"x\":245,\"y\":3352}]],\"subject_list\":[{\"index\":0,\"type\":0,\"prob\":0,\"text\":\"1.(疑难,★★☆)下列各组数据中,表示同一 时刻的是 ( ) A.前2s末、第2s末、第3s初 B.第1s末、第2s末、第3s末 C.前2s末、第2s末、前3s初 D.前2s初、第2s末、第3s初\",\"pos_list\":[[{\"x\":170,\"y\":417},{\"x\":1162,\"y\":416},{\"x\":1161,\"y\":757},{\"x\":170,\"y\":757}]],\"element_list\":[{\"type\":0,\"text\":\"1.(疑难,★★☆)下列各组数据中,表示同一 时刻的是 ( )\",\"pos_list\":[[{\"x\":170,\"y\":417},{\"x\":1162,\"y\":416},{\"x\":1161,\"y\":520},{\"x\":170,\"y\":518}]],\"content_list\":[{\"type\":1,\"prob\":0,\"string\":\"1.(疑难,★★☆)下列各组数据中,表示同一 时刻的是\",\"option\":\"\",\"pos\":[{\"x\":170,\"y\":417},{\"x\":1131,\"y\":416},{\"x\":1131,\"y\":453},{\"x\":170,\"y\":454}]},{\"type\":1,\"prob\":0,\"string\":\"( )\",\"option\":\"\",\"pos\":[{\"x\":1033,\"y\":481},{\"x\":1162,\"y\":483},{\"x\":1161,\"y\":520},{\"x\":1033,\"y\":518}]}]},{\"type\":1,\"text\":\"A.前2s末、第2s末、第3s初\",\"pos_list\":[[{\"x\":204,\"y\":541},{\"x\":746,\"y\":536},{\"x\":746,\"y\":572},{\"x\":204,\"y\":577}]],\"content_list\":[{\"type\":1,\"prob\":0,\"string\":\"A.前2s末、第2s末、第3s初\",\"option\":\"\",\"pos\":[{\"x\":204,\"y\":541},{\"x\":746,\"y\":536},{\"x\":746,\"y\":572},{\"x\":204,\"y\":577}]}]},{\"type\":1,\"text\":\"B.第1s末、第2s末、第3s末\",\"pos_list\":[[{\"x\":205,\"y\":601},{\"x\":742,\"y\":596},{\"x\":743,\"y\":632},{\"x\":205,\"y\":637}]],\"content_list\":[{\"type\":1,\"prob\":0,\"string\":\"B.第1s末、第2s末、第3s末\",\"option\":\"\",\"pos\":[{\"x\":205,\"y\":601},{\"x\":742,\"y\":596},{\"x\":743,\"y\":632},{\"x\":205,\"y\":637}]}]},{\"type\":1,\"text\":\"C.前2s末、第2s末、前3s初\",\"pos_list\":[[{\"x\":205,\"y\":660},{\"x\":743,\"y\":660},{\"x\":743,\"y\":696},{\"x\":205,\"y\":696}]],\"content_list\":[{\"type\":1,\"prob\":0,\"string\":\"C.前2s末、第2s末、前3s初\",\"option\":\"\",\"pos\":[{\"x\":205,\"y\":660},{\"x\":743,\"y\":660},{\"x\":743,\"y\":696},{\"x\":205,\"y\":696}]}]},{\"type\":1,\"text\":\"D.前2s初、第2s末、第3s初\",\"pos_list\":[[{\"x\":205,\"y\":721},{\"x\":746,\"y\":721},{\"x\":746,\"y\":757},{\"x\":205,\"y\":757}]],\"content_list\":[{\"type\":1,\"prob\":0,\"string\":\"D.前2s初、第2s末、第3s初\",\"option\":\"\",\"pos\":[{\"x\":205,\"y\":721},{\"x\":746,\"y\":721},{\"x\":746,\"y\":757},{\"x\":205,\"y\":757}]}]}]}]}],\"prism_version\":\"1.0.9\",\"prism_wnum\":0,\"prism_wordsInfo\":[],\"width\":2377}",
  "Code": "noPermission",
  "Message": "You are not authorized to perform this operation."
}
```

