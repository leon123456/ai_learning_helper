# æµ‹è¯•è„šæœ¬ä½¿ç”¨è¯´æ˜

## æ–‡ä»¶è¯´æ˜

### 1. `test_diagnostic.py`
åŸºç¡€æµ‹è¯•è„šæœ¬ï¼Œä½¿ç”¨å›¾ç‰‡ URL è¿›è¡Œæµ‹è¯•ã€‚

### 2. `test_with_local_image.py` â­ æ–°å¢
å¢å¼ºæµ‹è¯•è„šæœ¬ï¼Œæ”¯æŒæœ¬åœ°å›¾ç‰‡ä¸Šä¼ ã€‚

## ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ 1: ä½¿ç”¨åœ¨çº¿å›¾ç‰‡ URL

```bash
# ä½¿ç”¨é»˜è®¤æµ‹è¯•å›¾ç‰‡
python test/test_diagnostic.py

# æˆ–ä½¿ç”¨æ–°è„šæœ¬ï¼ˆè‡ªåŠ¨ä½¿ç”¨é»˜è®¤ URLï¼‰
python test/test_with_local_image.py
```

### æ–¹å¼ 2: ä¸Šä¼ æœ¬åœ°å›¾ç‰‡ â­ æ¨è

```bash
# åŸºæœ¬ç”¨æ³•
python test/test_with_local_image.py /path/to/your/image.jpg

# ç¤ºä¾‹
python test/test_with_local_image.py ~/Downloads/math_problem.png

# æŒ‡å®šç”¨æˆ·ç­”æ¡ˆï¼ˆå¯é€‰ï¼‰
python test/test_with_local_image.py ~/Downloads/math_problem.png "42"
```

### æ”¯æŒçš„å›¾ç‰‡æ ¼å¼
- JPG/JPEG
- PNG
- BMP
- å…¶ä»–å¸¸è§å›¾ç‰‡æ ¼å¼

### å»ºè®®
- å›¾ç‰‡å¤§å°ï¼š< 5MB
- å›¾ç‰‡æ¸…æ™°åº¦ï¼šæ¸…æ™°å¯è¯»
- å›¾ç‰‡å†…å®¹ï¼šåŒ…å«å®Œæ•´çš„é¢˜ç›®

## è¶…æ—¶é…ç½®

å·²å¢åŠ æ‰€æœ‰è¶…æ—¶æ—¶é—´ï¼š

| æœåŠ¡ | åŸè¶…æ—¶ | æ–°è¶…æ—¶ |
|------|-------|--------|
| LLM è¯·æ±‚ | 30ç§’ | **120ç§’** |
| é˜¿é‡Œäº‘ OCR | é»˜è®¤ | **120ç§’** |
| OCR æµ‹è¯• | 30ç§’ | **120ç§’** |
| è¯Šæ–­æµ‹è¯• | 60ç§’ | **90ç§’** |

## æ•…éšœæ’æŸ¥

### è¶…æ—¶é”™è¯¯
```bash
âŒ è¯·æ±‚è¶…æ—¶ï¼
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥å›¾ç‰‡å¤§å°ï¼ˆå‹ç¼©å¤§å›¾ç‰‡ï¼‰
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. ç¡®è®¤æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ

### å›¾ç‰‡è¯†åˆ«å¤±è´¥
```bash
âš ï¸ æœªè¯†åˆ«åˆ°é¢˜ç›®
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®ä¿å›¾ç‰‡æ¸…æ™°
2. æ£€æŸ¥ .env é…ç½®ï¼šè®¾ç½® `OCR_PROVIDER=auto`
3. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

### é˜¿é‡Œäº‘æƒé™é”™è¯¯
```bash
âŒ 401 You are not authorized
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. è®¾ç½® `OCR_PROVIDER=llm` æˆ– `OCR_PROVIDER=auto`
2. æˆ–é…ç½®é˜¿é‡Œäº‘ RAM æƒé™

## ç¤ºä¾‹è¾“å‡º

```bash
$ python test/test_with_local_image.py ~/Downloads/test.jpg

================================================================================
ğŸ” OCR æµ‹è¯•
================================================================================
ğŸ“ åŠ è½½æœ¬åœ°å›¾ç‰‡: test.jpg
ğŸ“ æ–‡ä»¶å¤§å°: 256.45 KB
âœ… Base64 ç¼–ç å®Œæˆï¼Œé•¿åº¦: 350234 å­—ç¬¦

ğŸ“¤ å‘é€ OCR è¯·æ±‚...
â±ï¸  è¶…æ—¶æ—¶é—´: 120 ç§’

âœ… OCR æˆåŠŸï¼
ğŸ“Š è¯†åˆ«åˆ°çš„é¢˜ç›®æ•°é‡: 2

ğŸ“ è¯†åˆ«çš„åŸå§‹æ–‡æœ¬ï¼š
--------------------------------------------------------------------------------
1. è®¡ç®—: 2 + 3 = ?
2. è§£æ–¹ç¨‹: x + 5 = 10
--------------------------------------------------------------------------------

ğŸ“‹ é¢˜ç›® 1:
  ç±»å‹: calculation
  éš¾åº¦: easy
  å†…å®¹: è®¡ç®—: 2 + 3 = ?...

================================================================================
ğŸ§  è¯Šæ–­æµ‹è¯•
================================================================================
ğŸ“ ç”¨æˆ·ç­”æ¡ˆ: æˆ‘ä¸ä¼š
â±ï¸  è¶…æ—¶æ—¶é—´: 90 ç§’

âœ… è¯Šæ–­æˆåŠŸï¼

ğŸ¯ è¯Šæ–­ç»“æœï¼š
{
  "correct": false,
  "error_type": "æœªä½œç­”",
  "analysis": "...",
  ...
}
```

